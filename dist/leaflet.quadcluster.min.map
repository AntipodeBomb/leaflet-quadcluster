{"version":3,"file":"leaflet.quadcluster.min.js","sources":["leaflet.quadcluster.js"],"names":["L","QuadCluster","version","createTree","points","x","y","extent","computeGravityCenter","node","active","mass","center","latLng","cX","cY","totalPoints","i","nodes","nX","lat","nY","lng","nodePoints","cWgt","nWgt","point","getPoints","storageArray","this","push","length","enhanceNode","depth","x1","y1","x2","y2","sx","sy","children","bounds","latLngBounds","id","_nextID","parentID","nodeArea","width","Math","abs","getEast","getWest","height","getNorth","bound","getSouth","_factory","d3","geom","quadtree","_x1","_y1","_x2","_y2","_root","_tree","aggregate","ret","aggregateNode","initialize","add","root","filter","filterFunc","agg","Aggregate","finalize","state","cut","area","contains","nArea","init","merge","oState","concat","tree","childState","accumulate","Tree","calculateExtent","Error","lower","Infinity","upper","forEach","d","_x","_y","min","max","squarifyExtent","dx","dy","_extent","_gen","_","arguments","TreeAggregate","acc","_init","_filter","_acc","_merge","_finalize"],"mappings":"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"}