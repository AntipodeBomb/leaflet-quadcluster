{"version":3,"file":"leaflet.clustersearch.min.js","sources":["leaflet.clustersearch.js"],"names":["e","exports","module","define","amd","f","window","global","self","leaflet","clustersearch","t","n","r","s","o","u","a","require","i","Error","call","length",1,"_dereq_","tree","./tree/api.js",2,"TreeAggregate","init","filter","merge","acc","finalize","this","initialize","accumulate","AggregateFactory","_init","_filter","_acc","state","_merge","_finalize","_factory","_","arguments",3,"aggregate","./aggregate.js","./tree.js",4,"TreeGenerator","calculateExtent","points","lower","Infinity","upper","forEach","d","x","_x","y","_y","Math","min","max","squarifyExtent","extent","x1","y1","x2","y2","dx","dy","_extent","_gen","createTree","enhanceNode","node","depth","sx","sy","children","nodes","bounds","id","_nextID","parentID","d3","geom","quadtree","_x1","_y1","_x2","_y2","_root","_tree","aggregateNode","add","point","root","childState"],"mappings":"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"}